<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faturamento Mensal - Distribuidora</title>
    <link rel="stylesheet" href="./css/main.css">
</head>

<body>
    <h1>Faturamento Mensal da Distribuidora</h1>
    <table id="faturamentoTable">
        <thead>
            <tr>
                <th>Estado</th>
                <th>Faturamento (R$)</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        const faturamentoData = [
            { "estado": "SP", "faturamento": 67836.43 },
            { "estado": "RJ", "faturamento": 36678.66 },
            { "estado": "MG", "faturamento": 29229.88 },
            { "estado": "ES", "faturamento": 27165.48 },
            { "estado": "Outros", "faturamento": 19849.53 }
        ]

        class FaturamentoLinhaFactory {
            static criarLinha (estado, faturamento) {
                const linha = document.createElement('tr')

                const celulaEstado = document.createElement('td')
                celulaEstado.textContent = estado
                linha.appendChild(celulaEstado)

                const celulaFaturamento = document.createElement('td')
                celulaFaturamento.textContent = faturamento.toFixed(2).replace('.', ',')
                linha.appendChild(celulaFaturamento)

                return linha
            }
        }

        function preencherTabela () {
            const tabelaCorpo = document.querySelector("#faturamentoTable tbody")
            faturamentoData.forEach(item => {
                const linha = FaturamentoLinhaFactory.criarLinha(item.estado, item.faturamento)
                tabelaCorpo.appendChild(linha)
            })
        }
        window.onload = preencherTabela;
    </script>
</body>

</html>
